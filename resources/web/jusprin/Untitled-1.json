{"accel_to_decel_enable":"0","accel_to_decel_factor":"50%","activate_air_filtration":["0","0"],"activate_chamber_temp_control":["0","0"],"adaptive_bed_mesh_margin":"0","adaptive_pressure_advance":["0","0"],"adaptive_pressure_advance_bridges":["0","0"],"adaptive_pressure_advance_model":["0,0,0 0,0,0","0,0,0 0,0,0"],"adaptive_pressure_advance_overhangs":["0","0"],"additional_cooling_fan_speed":["70","70"],"alternate_extra_wall":"0","auxiliary_fan":"1","bbl_calib_mark_logo":"1","bbl_use_printhost":"0","bed_custom_model":"","bed_custom_texture":"","bed_exclude_area":["0x0","18x0","18x28","0x28"],"bed_mesh_max":"99999,99999","bed_mesh_min":"-99999,-99999","bed_mesh_probe_distance":"50,50","before_layer_change_gcode":"","best_object_pos":"0.5,0.5","bottom_shell_layers":"4","bottom_shell_thickness":"0","bottom_solid_infill_flow_ratio":"1","bottom_surface_pattern":"monotonic","bridge_acceleration":"50%","bridge_angle":"0","bridge_density":"100%","bridge_flow":"1","bridge_no_support":"0","bridge_speed":"50","brim_ears_detection_length":"1","brim_ears_max_angle":"125","brim_object_gap":"0.1","brim_type":"auto_brim","brim_width":"5","chamber_temperature":["0","0"],"change_extrusion_role_gcode":"","change_filament_gcode":"M620 S[next_extruder]A M204 S9000 {if toolchange_count > 1 && (z_hop_types[current_extruder] == 0 || z_hop_types[current_extruder] == 3)} G17 G2 Z{z_after_toolchange + 0.4} I0.86 J0.86 P1 F10000 ; spiral lift a little from second lift {endif} G1 Z{max_layer_z + 3.0} F1200 G1 X70 F21000 G1 Y245 G1 Y265 F3000 M400 M106 P1 S0 M106 P2 S0 {if old_filament_temp > 142 && next_extruder < 255} M104 S[old_filament_temp] {endif} {if long_retractions_when_cut[previous_extruder]} M620.11 S1 I[previous_extruder] E-{retraction_distances_when_cut[previous_extruder]} F{old_filament_e_feedrate} {else} M620.11 S0 {endif} M400 G1 X90 F3000 G1 Y255 F4000 G1 X100 F5000 G1 X120 F15000 G1 X20 Y50 F21000 G1 Y-3 {if toolchange_count == 2} ; get travel path for change filament M620.1 X[travel_point_1_x] Y[travel_point_1_y] F21000 P0 M620.1 X[travel_point_2_x] Y[travel_point_2_y] F21000 P1 M620.1 X[travel_point_3_x] Y[travel_point_3_y] F21000 P2 {endif} M620.1 E F[old_filament_e_feedrate] T{nozzle_temperature_range_high[previous_extruder]} T[next_extruder] M620.1 E F[new_filament_e_feedrate] T{nozzle_temperature_range_high[next_extruder]} {if next_extruder < 255} {if long_retractions_when_cut[previous_extruder]} M620.11 S1 I[previous_extruder] E{retraction_distances_when_cut[previous_extruder]} F{old_filament_e_feedrate} M628 S1 G92 E0 G1 E{retraction_distances_when_cut[previous_extruder]} F[old_filament_e_feedrate] M400 M629 S1 {else} M620.11 S0 {endif} G92 E0 {if flush_length_1 > 1} M83 ; FLUSH_START ; always use highest temperature to flush M400 {if filament_type[next_extruder] == "PETG"} M109 S260 {elsif filament_type[next_extruder] == "PVA"} M109 S210 {else} M109 S[nozzle_temperature_range_high] {endif} {if flush_length_1 > 23.7} G1 E23.7 F{old_filament_e_feedrate} ; do not need pulsatile flushing for start part G1 E{(flush_length_1 - 23.7) * 0.02} F50 G1 E{(flush_length_1 - 23.7) * 0.23} F{old_filament_e_feedrate} G1 E{(flush_length_1 - 23.7) * 0.02} F50 G1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate} G1 E{(flush_length_1 - 23.7) * 0.02} F50 G1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate} G1 E{(flush_length_1 - 23.7) * 0.02} F50 G1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate} {else} G1 E{flush_length_1} F{old_filament_e_feedrate} {endif} ; FLUSH_END G1 E-[old_retract_length_toolchange] F1800 G1 E[old_retract_length_toolchange] F300 {endif} {if flush_length_2 > 1} G91 G1 X3 F12000; move aside to extrude G90 M83 ; FLUSH_START G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_2 * 0.02} F50 G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_2 * 0.02} F50 G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_2 * 0.02} F50 G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_2 * 0.02} F50 G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_2 * 0.02} F50 ; FLUSH_END G1 E-[new_retract_length_toolchange] F1800 G1 E[new_retract_length_toolchange] F300 {endif} {if flush_length_3 > 1} G91 G1 X3 F12000; move aside to extrude G90 M83 ; FLUSH_START G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_3 * 0.02} F50 G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_3 * 0.02} F50 G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_3 * 0.02} F50 G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_3 * 0.02} F50 G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_3 * 0.02} F50 ; FLUSH_END G1 E-[new_retract_length_toolchange] F1800 G1 E[new_retract_length_toolchange] F300 {endif} {if flush_length_4 > 1} G91 G1 X3 F12000; move aside to extrude G90 M83 ; FLUSH_START G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_4 * 0.02} F50 G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_4 * 0.02} F50 G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_4 * 0.02} F50 G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_4 * 0.02} F50 G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate} G1 E{flush_length_4 * 0.02} F50 ; FLUSH_END {endif} ; FLUSH_START M400 M109 S[new_filament_temp] G1 E2 F{new_filament_e_feedrate} ;Compensate for filament spillage during waiting temperature ; FLUSH_END M400 G92 E0 G1 E-[new_retract_length_toolchange] F1800 M106 P1 S255 M400 S3 G1 X70 F5000 G1 X90 F3000 G1 Y255 F4000 G1 X105 F5000 G1 Y265 F5000 G1 X70 F10000 G1 X100 F5000 G1 X70 F10000 G1 X100 F5000 G1 X70 F10000 G1 X80 F15000 G1 X60 G1 X80 G1 X60 G1 X80 ; shake to put down garbage G1 X100 F5000 G1 X165 F15000; wipe and shake G1 Y256 ; move Y to aside, prevent collision M400 G1 Z{max_layer_z + 3.0} F3000 {if layer_z <= (initial_layer_print_height + 0.001)} M204 S[initial_layer_acceleration] {else} M204 S[default_acceleration] {endif} {else} G1 X[x_after_toolchange] Y[y_after_toolchange] Z[z_after_toolchange] F12000 {endif} M621 S[next_extruder]A ","close_fan_the_first_x_layers":["1","1"],"complete_print_exhaust_fan_speed":["70","70"],"cool_plate_temp":["35","35"],"cool_plate_temp_initial_layer":["35","35"],"cooling_tube_length":"5","cooling_tube_retraction":"91.5","counterbore_hole_bridging":"none","curr_bed_type":"High Temp Plate","default_acceleration":"10000","default_filament_colour":["",""],"default_filament_profile":["Bambu PLA Basic @BBL X1C"],"default_jerk":"0","default_print_profile":"0.20mm Standard @BBL X1C","deretraction_speed":["30"],"detect_narrow_internal_solid_infill":"1","detect_overhang_wall":"1","detect_thin_wall":"0","disable_m73":"0","dont_filter_internal_bridges":"disabled","dont_slow_down_outer_wall":["0","0"],"draft_shield":"disabled","during_print_exhaust_fan_speed":["70","70"],"elefant_foot_compensation":"0.15","elefant_foot_compensation_layers":"1","emit_machine_limits_to_gcode":"1","enable_arc_fitting":"1","enable_filament_ramming":"1","enable_long_retraction_when_cut":"2","enable_overhang_bridge_fan":["1","1"],"enable_overhang_speed":"1","enable_pressure_advance":["0","0"],"enable_prime_tower":"1","enable_support":"0","enforce_support_layers":"0","eng_plate_temp":["0","0"],"eng_plate_temp_initial_layer":["0","0"],"ensure_vertical_shell_thickness":"ensure_all","exclude_object":"1","extra_loading_move":"-2","extra_perimeters_on_overhangs":"0","extruder_clearance_height_to_lid":"90","extruder_clearance_height_to_rod":"34","extruder_clearance_radius":"57","extruder_colour":["#018001"],"extruder_offset":["0x2"],"fan_cooling_layer_time":["100","100"],"fan_kickstart":"0","fan_max_speed":["100","100"],"fan_min_speed":["100","100"],"fan_speedup_overhangs":"1","fan_speedup_time":"0","filament_colour":["#E05028","#FFFFFF"],"filament_cooling_final_speed":["3.4","3.4"],"filament_cooling_initial_speed":["2.2","2.2"],"filament_cooling_moves":["4","4"],"filament_cost":["20","20"],"filament_density":["1.24","1.24"],"filament_deretraction_speed":["nil","nil"],"filament_diameter":["1.75","1.75"],"filament_end_gcode":["; filament end gcode M106 P3 S0 ","; filament end gcode M106 P3 S0 "],"filament_flow_ratio":["0.98","0.98"],"filament_ids":["GFL99","GFL99"],"filament_is_support":["0","0"],"filament_loading_speed":["28","28"],"filament_loading_speed_start":["3","3"],"filament_long_retractions_when_cut":["nil","nil"],"filament_max_volumetric_speed":["12","12"],"filament_minimal_purge_on_wipe_tower":["15","15"],"filament_multitool_ramming":["0","0"],"filament_multitool_ramming_flow":["10","10"],"filament_multitool_ramming_volume":["10","10"],"filament_notes":["",""],"filament_ramming_parameters":["120 100 6.6 6.8 7.2 7.6 7.9 8.2 8.7 9.4 9.9 10.0| 0.05 6.6 0.45 6.8 0.95 7.8 1.45 8.3 1.95 9.7 2.45 10 2.95 7.6 3.45 7.6 3.95 7.6 4.45 7.6 4.95 7.6","120 100 6.6 6.8 7.2 7.6 7.9 8.2 8.7 9.4 9.9 10.0| 0.05 6.6 0.45 6.8 0.95 7.8 1.45 8.3 1.95 9.7 2.45 10 2.95 7.6 3.45 7.6 3.95 7.6 4.45 7.6 4.95 7.6"],"filament_retract_before_wipe":["nil","nil"],"filament_retract_lift_above":["nil","nil"],"filament_retract_lift_below":["nil","nil"],"filament_retract_lift_enforce":["nil","nil"],"filament_retract_restart_extra":["nil","nil"],"filament_retract_when_changing_layer":["nil","nil"],"filament_retraction_distances_when_cut":["nil","nil"],"filament_retraction_length":["nil","nil"],"filament_retraction_minimum_travel":["nil","nil"],"filament_retraction_speed":["nil","nil"],"filament_settings_id":["Generic PLA(Projekt+-+standard+-+2+plates.3mf)","Generic PLA(Projekt+-+standard+-+2+plates.3mf)"],"filament_shrink":["100%","100%"],"filament_shrinkage_compensation_z":["100%","100%"],"filament_soluble":["0","0"],"filament_stamping_distance":["0","0"],"filament_stamping_loading_speed":["0","0"],"filament_start_gcode":["; filament start gcode {if (bed_temperature[current_extruder] >55)||(bed_temperature_initial_layer[current_extruder] >55)}M106 P3 S200 {elsif(bed_temperature[current_extruder] >50)||(bed_temperature_initial_layer[current_extruder] >50)}M106 P3 S150 {elsif(bed_temperature[current_extruder] >45)||(bed_temperature_initial_layer[current_extruder] >45)}M106 P3 S50 {endif} {if activate_air_filtration[current_extruder] && support_air_filtration} M106 P3 S{during_print_exhaust_fan_speed_num[current_extruder]} {endif}","; filament start gcode {if (bed_temperature[current_extruder] >55)||(bed_temperature_initial_layer[current_extruder] >55)}M106 P3 S200 {elsif(bed_temperature[current_extruder] >50)||(bed_temperature_initial_layer[current_extruder] >50)}M106 P3 S150 {elsif(bed_temperature[current_extruder] >45)||(bed_temperature_initial_layer[current_extruder] >45)}M106 P3 S50 {endif} {if activate_air_filtration[current_extruder] && support_air_filtration} M106 P3 S{during_print_exhaust_fan_speed_num[current_extruder]} {endif}"],"filament_toolchange_delay":["0","0"],"filament_type":["PLA","PLA"],"filament_unloading_speed":["90","90"],"filament_unloading_speed_start":["100","100"],"filament_vendor":["Generic","Generic"],"filament_wipe":["nil","nil"],"filament_wipe_distance":["nil","nil"],"filament_z_hop":["nil","nil"],"filament_z_hop_types":["nil","nil"],"filename_format":"{input_filename_base}_{filament_type[0]}_{print_time}.gcode","filter_out_gap_fill":"0","first_layer_print_sequence":["0"],"flush_into_infill":"0","flush_into_objects":"0","flush_into_support":"1","flush_multiplier":"1","flush_volumes_matrix":["0","558","282","0"],"flush_volumes_vector":["140","140","140","140"],"full_fan_speed_layer":["0","0"],"fuzzy_skin":"none","fuzzy_skin_first_layer":"0","fuzzy_skin_point_distance":"0.8","fuzzy_skin_thickness":"0.3","gap_fill_target":"nowhere","gap_infill_speed":"250","gcode_add_line_number":"0","gcode_comments":"0","gcode_flavor":"marlin","gcode_label_objects":"1","has_scarf_joint_seam":"0","head_wrap_detect_zone":[],"high_current_on_filament_swap":"0","hole_to_polyhole":"0","hole_to_polyhole_threshold":"0.01","hole_to_polyhole_twisted":"1","host_type":"octoprint","hot_plate_temp":["55","55"],"hot_plate_temp_initial_layer":["55","55"],"idle_temperature":["0","0"],"independent_support_layer_height":"1","infill_anchor":"400%","infill_anchor_max":"20","infill_combination":"0","infill_combination_max_layer_height":"100%","infill_direction":"45","infill_jerk":"9","infill_wall_overlap":"15%","initial_layer_acceleration":"500","initial_layer_infill_speed":"105","initial_layer_jerk":"9","initial_layer_line_width":"0.5","initial_layer_min_bead_width":"85%","initial_layer_print_height":"0.2","initial_layer_speed":"30","initial_layer_travel_speed":"100%","inner_wall_acceleration":"0","inner_wall_jerk":"9","inner_wall_line_width":"0.45","inner_wall_speed":"300","interface_shells":"0","interlocking_beam":"0","interlocking_beam_layer_count":"2","interlocking_beam_width":"0.8","interlocking_boundary_avoidance":"2","interlocking_depth":"2","interlocking_orientation":"22.5","internal_bridge_flow":"1","internal_bridge_speed":"150%","internal_solid_infill_acceleration":"100%","internal_solid_infill_line_width":"0.42","internal_solid_infill_pattern":"zig-zag","internal_solid_infill_speed":"250","ironing_angle":"45","ironing_flow":"10%","ironing_pattern":"zig-zag","ironing_spacing":"0.15","ironing_speed":"30","ironing_type":"no ironing","is_infill_first":"0","layer_change_gcode":"; layer num/total_layer_count: {layer_num+1}/[total_layer_count] M622.1 S1 ; for prev firware, default turned on M1002 judge_flag timelapse_record_flag M622 J1 {if timelapse_type == 0} ; timelapse without wipe tower M971 S11 C10 O0 {elsif timelapse_type == 1} ; timelapse with wipe tower G92 E0 G1 E-[retraction_length] F1800 G17 G2 Z{layer_z + 0.4} I0.86 J0.86 P1 F20000 ; spiral lift a little G1 X65 Y245 F20000 ; move to safe pos G17 G2 Z{layer_z} I0.86 J0.86 P1 F20000 G1 Y265 F3000 M400 P300 M971 S11 C10 O0 G92 E0 G1 E[retraction_length] F300 G1 X100 F5000 G1 Y255 F20000 {endif} M623 ; update layer progress M73 L{layer_num+1} M991 S0 P{layer_num} ;notify layer change","layer_height":"0.2","line_width":"0.42","long_retractions_when_cut":["0"],"machine_end_gcode":";===== date: 20240528 ===================== M400 ; wait for buffer to clear G92 E0 ; zero the extruder G1 E-0.8 F1800 ; retract G1 Z{max_layer_z + 0.5} F900 ; lower z a little G1 X65 Y245 F12000 ; move to safe pos G1 Y265 F3000 G1 X65 Y245 F12000 G1 Y265 F3000 M140 S0 ; turn off bed M106 S0 ; turn off fan M106 P2 S0 ; turn off remote part cooling fan M106 P3 S0 ; turn off chamber cooling fan G1 X100 F12000 ; wipe ; pull back filament to AMS M620 S255 G1 X20 Y50 F12000 G1 Y-3 T255 G1 X65 F12000 G1 Y265 G1 X100 F12000 ; wipe M621 S255 M104 S0 ; turn off hotend M622.1 S1 ; for prev firware, default turned on M1002 judge_flag timelapse_record_flag M622 J1 M400 ; wait all motion done M991 S0 P-1 ;end smooth timelapse at safe pos M400 S3 ;wait for last picture to be taken M623; end of "timelapse_record_flag" M400 ; wait all motion done M17 S M17 Z0.4 ; lower z motor current to reduce impact if there is something in the bottom {if (max_layer_z + 100.0) < 250} G1 Z{max_layer_z + 100.0} F600 G1 Z{max_layer_z +98.0} {else} G1 Z250 F600 G1 Z248 {endif} M400 P100 M17 R ; restore z current M220 S100 ; Reset feedrate magnitude M201.2 K1.0 ; Reset acc magnitude M73.2 R1.0 ;Reset left time magnitude M1002 set_gcode_claim_speed_level : 0 ;=====printer finish sound========= M17 M400 S1 M1006 S1 M1006 A0 B20 L100 C37 D20 M40 E42 F20 N60 M1006 A0 B10 L100 C44 D10 M60 E44 F10 N60 M1006 A0 B10 L100 C46 D10 M80 E46 F10 N80 M1006 A44 B20 L100 C39 D20 M60 E48 F20 N60 M1006 A0 B10 L100 C44 D10 M60 E44 F10 N60 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N60 M1006 A0 B10 L100 C39 D10 M60 E39 F10 N60 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N60 M1006 A0 B10 L100 C44 D10 M60 E44 F10 N60 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N60 M1006 A0 B10 L100 C39 D10 M60 E39 F10 N60 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N60 M1006 A0 B10 L100 C48 D10 M60 E44 F10 N100 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N100 M1006 A49 B20 L100 C44 D20 M100 E41 F20 N100 M1006 A0 B20 L100 C0 D20 M60 E0 F20 N100 M1006 A0 B20 L100 C37 D20 M30 E37 F20 N60 M1006 W M17 X0.8 Y0.8 Z0.5 ; lower motor current to 45% power M960 S5 P0 ; turn off logo lamp ","machine_load_filament_time":"29","machine_max_acceleration_e":["5000","5000"],"machine_max_acceleration_extruding":["20000","20000"],"machine_max_acceleration_retracting":["5000","5000"],"machine_max_acceleration_travel":["9000","9000"],"machine_max_acceleration_x":["20000","20000"],"machine_max_acceleration_y":["20000","20000"],"machine_max_acceleration_z":["500","200"],"machine_max_jerk_e":["2.5","2.5"],"machine_max_jerk_x":["9","9"],"machine_max_jerk_y":["9","9"],"machine_max_jerk_z":["3","3"],"machine_max_speed_e":["30","30"],"machine_max_speed_x":["500","200"],"machine_max_speed_y":["500","200"],"machine_max_speed_z":["20","20"],"machine_min_extruding_rate":["0","0"],"machine_min_travel_rate":["0","0"],"machine_pause_gcode":"M400 U1","machine_start_gcode":";===== machine: X1 ==================== ;===== date: 20240528 ================== ;===== start printer sound ================ M17 M400 S1 M1006 S1 M1006 A0 B10 L100 C37 D10 M60 E37 F10 N60 M1006 A0 B10 L100 C41 D10 M60 E41 F10 N60 M1006 A0 B10 L100 C44 D10 M60 E44 F10 N60 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N60 M1006 A46 B10 L100 C43 D10 M70 E39 F10 N100 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N100 M1006 A43 B10 L100 C0 D10 M60 E39 F10 N100 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N100 M1006 A41 B10 L100 C0 D10 M100 E41 F10 N100 M1006 A44 B10 L100 C0 D10 M100 E44 F10 N100 M1006 A49 B10 L100 C0 D10 M100 E49 F10 N100 M1006 A0 B10 L100 C0 D10 M100 E0 F10 N100 M1006 A48 B10 L100 C44 D10 M60 E39 F10 N100 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N100 M1006 A44 B10 L100 C0 D10 M90 E39 F10 N100 M1006 A0 B10 L100 C0 D10 M60 E0 F10 N100 M1006 A46 B10 L100 C43 D10 M60 E39 F10 N100 M1006 W ;===== turn on the HB fan ================= M104 S75 ;set extruder temp to turn on the HB fan and prevent filament oozing from nozzle ;===== reset machine status ================= M290 X40 Y40 Z2.6666666 G91 M17 Z0.4 ; lower the z-motor current G380 S2 Z30 F300 ; G380 is same as G38; lower the hotbed , to prevent the nozzle is below the hotbed G380 S2 Z-25 F300 ; G1 Z5 F300; G90 M17 X1.2 Y1.2 Z0.75 ; reset motor current to default M960 S5 P1 ; turn on logo lamp G90 M220 S100 ;Reset Feedrate M221 S100 ;Reset Flowrate M73.2 R1.0 ;Reset left time magnitude M1002 set_gcode_claim_speed_level : 5 M221 X0 Y0 Z0 ; turn off soft endstop to prevent protential logic problem G29.1 Z{+0.0} ; clear z-trim value first M204 S10000 ; init ACC set to 10m/s^2 ;===== heatbed preheat ==================== M1002 gcode_claim_action : 2 M140 S[bed_temperature_initial_layer_single] ;set bed temp M190 S[bed_temperature_initial_layer_single] ;wait for bed temp {if scan_first_layer} ;=========register first layer scan===== M977 S1 P60 {endif} ;=============turn on fans to prevent PLA jamming================= {if filament_type[initial_no_support_extruder]=="PLA"} {if (bed_temperature[initial_no_support_extruder] >45)||(bed_temperature_initial_layer[initial_no_support_extruder] >45)} M106 P3 S180 {endif};Prevent PLA from jamming M142 P1 R35 S40 {endif} M106 P2 S100 ; turn on big fan ,to cool down toolhead ;===== prepare print temperature and material ========== M104 S[nozzle_temperature_initial_layer] ;set extruder temp G91 G0 Z10 F1200 G90 G28 X M975 S1 ; turn on G1 X60 F12000 G1 Y245 G1 Y265 F3000 M620 M M620 S[initial_no_support_extruder]A ; switch material if AMS exist M109 S[nozzle_temperature_initial_layer] G1 X120 F12000 G1 X20 Y50 F12000 G1 Y-3 T[initial_no_support_extruder] G1 X54 F12000 G1 Y265 M400 M621 S[initial_no_support_extruder]A M620.1 E F{filament_max_volumetric_speed[initial_no_support_extruder]/2.4053*60} T{nozzle_temperature_range_high[initial_no_support_extruder]} M412 S1 ; ===turn on filament runout detection=== M109 S250 ;set nozzle to common flush temp M106 P1 S0 G92 E0 G1 E50 F200 M400 M104 S[nozzle_temperature_initial_layer] G92 E0 G1 E50 F200 M400 M106 P1 S255 G92 E0 G1 E5 F300 M109 S{nozzle_temperature_initial_layer[initial_no_support_extruder]-20} ; drop nozzle temp, make filament shink a bit G92 E0 G1 E-0.5 F300 G1 X70 F9000 G1 X76 F15000 G1 X65 F15000 G1 X76 F15000 G1 X65 F15000; shake to put down garbage G1 X80 F6000 G1 X95 F15000 G1 X80 F15000 G1 X165 F15000; wipe and shake M400 M106 P1 S0 ;===== prepare print temperature and material end ===== ;===== wipe nozzle =============================== M1002 gcode_claim_action : 14 M975 S1 M106 S255 G1 X65 Y230 F18000 G1 Y264 F6000 M109 S{nozzle_temperature_initial_layer[initial_no_support_extruder]-20} G1 X100 F18000 ; first wipe mouth G0 X135 Y253 F20000 ; move to exposed steel surface edge G28 Z P0 T300; home z with low precision,permit 300deg temperature G29.2 S0 ; turn off ABL G0 Z5 F20000 G1 X60 Y265 G92 E0 G1 E-0.5 F300 ; retrack more G1 X100 F5000; second wipe mouth G1 X70 F15000 G1 X100 F5000 G1 X70 F15000 G1 X100 F5000 G1 X70 F15000 G1 X100 F5000 G1 X70 F15000 G1 X90 F5000 G0 X128 Y261 Z-1.5 F20000 ; move to exposed steel surface and stop the nozzle M104 S140 ; set temp down to heatbed acceptable M106 S255 ; turn on fan (G28 has turn off fan) M221 S; push soft endstop status M221 Z0 ;turn off Z axis endstop G0 Z0.5 F20000 G0 X125 Y259.5 Z-1.01 G0 X131 F211 G0 X124 G0 Z0.5 F20000 G0 X125 Y262.5 G0 Z-1.01 G0 X131 F211 G0 X124 G0 Z0.5 F20000 G0 X125 Y260.0 G0 Z-1.01 G0 X131 F211 G0 X124 G0 Z0.5 F20000 G0 X125 Y262.0 G0 Z-1.01 G0 X131 F211 G0 X124 G0 Z0.5 F20000 G0 X125 Y260.5 G0 Z-1.01 G0 X131 F211 G0 X124 G0 Z0.5 F20000 G0 X125 Y261.5 G0 Z-1.01 G0 X131 F211 G0 X124 G0 Z0.5 F20000 G0 X125 Y261.0 G0 Z-1.01 G0 X131 F211 G0 X124 G0 X128 G2 I0.5 J0 F300 G2 I0.5 J0 F300 G2 I0.5 J0 F300 G2 I0.5 J0 F300 M109 S140 ; wait nozzle temp down to heatbed acceptable G2 I0.5 J0 F3000 G2 I0.5 J0 F3000 G2 I0.5 J0 F3000 G2 I0.5 J0 F3000 M221 R; pop softend status G1 Z10 F1200 M400 G1 Z10 G1 F30000 G1 X128 Y128 G29.2 S1 ; turn on ABL ;G28 ; home again after hard wipe mouth M106 S0 ; turn off fan , too noisy ;===== wipe nozzle end ================================ ;===== check scanner clarity =========================== G1 X128 Y128 F24000 G28 Z P0 M972 S5 P0 G1 X230 Y15 F24000 ;===== check scanner clarity end ======================= ;===== bed leveling ================================== M1002 judge_flag g29_before_print_flag M622 J1 M1002 gcode_claim_action : 1 G29 A X{first_layer_print_min[0]} Y{first_layer_print_min[1]} I{first_layer_print_size[0]} J{first_layer_print_size[1]} M400 M500 ; save cali data M623 ;===== bed leveling end ================================ ;===== home after wipe mouth============================ M1002 judge_flag g29_before_print_flag M622 J0 M1002 gcode_claim_action : 13 G28 M623 ;===== home after wipe mouth end ======================= M975 S1 ; turn on vibration supression ;=============turn on fans to prevent PLA jamming================= {if filament_type[initial_no_support_extruder]=="PLA"} {if (bed_temperature[initial_no_support_extruder] >45)||(bed_temperature_initial_layer[initial_no_support_extruder] >45)} M106 P3 S180 {endif};Prevent PLA from jamming M142 P1 R35 S40 {endif} M106 P2 S100 ; turn on big fan ,to cool down toolhead M104 S{nozzle_temperature_initial_layer[initial_no_support_extruder]} ; set extrude temp earlier, to reduce wait time ;===== mech mode fast check============================ G1 X128 Y128 Z10 F20000 M400 P200 M970.3 Q1 A7 B30 C80 H15 K0 M974 Q1 S2 P0 G1 X128 Y128 Z10 F20000 M400 P200 M970.3 Q0 A7 B30 C90 Q0 H15 K0 M974 Q0 S2 P0 M975 S1 G1 F30000 G1 X230 Y15 G28 X ; re-home XY ;===== mech mode fast check============================ {if scan_first_layer} ;start heatbed scan==================================== M976 S2 P1 G90 G1 X128 Y128 F20000 M976 S3 P2 ;register void printing detection {endif} ;===== nozzle load line =============================== M975 S1 G90 M83 T1000 G1 X18.0 Y1.0 Z0.8 F18000;Move to start position M109 S{nozzle_temperature[initial_no_support_extruder]} G1 Z0.2 G0 E2 F300 G0 X240 E15 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G0 Y11 E0.700 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G0 X239.5 G0 E0.2 G0 Y1.5 E0.700 G0 X231 E0.700 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} M400 ;===== for Textured PEI Plate , lower the nozzle as the nozzle was touching topmost of the texture when homing == ;curr_bed_type={curr_bed_type} {if curr_bed_type=="Textured PEI Plate"} G29.1 Z{-0.04} ; for Textured PEI Plate {endif} ;===== draw extrinsic para cali paint ================= M1002 judge_flag extrude_cali_flag M622 J1 M1002 gcode_claim_action : 8 T1000 G0 F1200.0 X231 Y15 Z0.2 E0.741 G0 F1200.0 X226 Y15 Z0.2 E0.275 G0 F1200.0 X226 Y8 Z0.2 E0.384 G0 F1200.0 X216 Y8 Z0.2 E0.549 G0 F1200.0 X216 Y1.5 Z0.2 E0.357 G0 X48.0 E12.0 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G0 X48.0 Y14 E0.92 F1200.0 G0 X35.0 Y6.0 E1.03 F1200.0 ;=========== extruder cali extrusion ================== T1000 M83 {if default_acceleration > 0} {if outer_wall_acceleration > 0} M204 S[outer_wall_acceleration] {else} M204 S[default_acceleration] {endif} {endif} G0 X35.000 Y6.000 Z0.300 F30000 E0 G1 F1500.000 E0.800 M106 S0 ; turn off fan G0 X185.000 E9.35441 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G0 X187 Z0 G1 F1500.000 E-0.800 G0 Z1 G0 X180 Z0.3 F18000 M900 L1000.0 M1.0 M900 K0.040 G0 X45.000 F30000 G0 Y8.000 F30000 G1 F1500.000 E0.800 G1 X65.000 E1.24726 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X70.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X75.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X80.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X85.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X90.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X95.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X100.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X105.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X110.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X115.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X120.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X125.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X130.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X135.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X140.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X145.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X150.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X155.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X160.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X165.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X170.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X175.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X180.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 F1500.000 E-0.800 G1 X183 Z0.15 F30000 G1 X185 G1 Z1.0 G0 Y6.000 F30000 ; move y to clear pos G1 Z0.3 M400 G0 X45.000 F30000 M900 K0.020 G0 X45.000 F30000 G0 Y10.000 F30000 G1 F1500.000 E0.800 G1 X65.000 E1.24726 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X70.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X75.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X80.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X85.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X90.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X95.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X100.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X105.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X110.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X115.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X120.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X125.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X130.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X135.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X140.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X145.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X150.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X155.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X160.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X165.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X170.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X175.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X180.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 F1500.000 E-0.800 G1 X183 Z0.15 F30000 G1 X185 G1 Z1.0 G0 Y6.000 F30000 ; move y to clear pos G1 Z0.3 M400 G0 X45.000 F30000 M900 K0.000 G0 X45.000 F30000 G0 Y12.000 F30000 G1 F1500.000 E0.800 G1 X65.000 E1.24726 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X70.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X75.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X80.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X85.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X90.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X95.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X100.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X105.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X110.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X115.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X120.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X125.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X130.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X135.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X140.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X145.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X150.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X155.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X160.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X165.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X170.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X175.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X180.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 F1500.000 E-0.800 G1 X183 Z0.15 F30000 G1 X185 G1 Z1.0 G0 Y6.000 F30000 ; move y to clear pos G1 Z0.3 G0 X45.000 F30000 ; move to start point M623 ; end of "draw extrinsic para cali paint" M1002 judge_flag extrude_cali_flag M622 J0 G0 X231 Y1.5 F30000 G0 X18 E14.3 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} M623 M104 S140 ;=========== laser and rgb calibration =========== M400 M18 E M500 R M973 S3 P14 G1 X120 Y1.0 Z0.3 F18000.0;Move to first extrude line pos T1100 G1 X235.0 Y1.0 Z0.3 F18000.0;Move to first extrude line pos M400 P100 M960 S1 P1 M400 P100 M973 S6 P0; use auto exposure for horizontal laser by xcam M960 S0 P0 G1 X240.0 Y6.0 Z0.3 F18000.0;Move to vertical extrude line pos M960 S2 P1 M400 P100 M973 S6 P1; use auto exposure for vertical laser by xcam M960 S0 P0 ;=========== handeye calibration ====================== M1002 judge_flag extrude_cali_flag M622 J1 M973 S3 P1 ; camera start stream M400 P500 M973 S1 G0 F6000 X228.500 Y4.500 Z0.000 M960 S0 P1 M973 S1 M400 P800 M971 S6 P0 M973 S2 P0 M400 P500 G0 Z0.000 F12000 M960 S0 P0 M960 S1 P1 G0 X221.00 Y4.50 M400 P200 M971 S5 P1 M973 S2 P1 M400 P500 M960 S0 P0 M960 S2 P1 G0 X228.5 Y11.0 M400 P200 M971 S5 P3 G0 Z0.500 F12000 M960 S0 P0 M960 S2 P1 G0 X228.5 Y11.0 M400 P200 M971 S5 P4 M973 S2 P0 M400 P500 M960 S0 P0 M960 S1 P1 G0 X221.00 Y4.50 M400 P500 M971 S5 P2 M963 S1 M400 P1500 M964 T1100 G0 F6000 X228.500 Y4.500 Z0.000 M960 S0 P1 M973 S1 M400 P800 M971 S6 P0 M973 S2 P0 M400 P500 G0 Z0.000 F12000 M960 S0 P0 M960 S1 P1 G0 X221.00 Y4.50 M400 P200 M971 S5 P1 M973 S2 P1 M400 P500 M960 S0 P0 M960 S2 P1 G0 X228.5 Y11.0 M400 P200 M971 S5 P3 G0 Z0.500 F12000 M960 S0 P0 M960 S2 P1 G0 X228.5 Y11.0 M400 P200 M971 S5 P4 M973 S2 P0 M400 P500 M960 S0 P0 M960 S1 P1 G0 X221.00 Y4.50 M400 P500 M971 S5 P2 M963 S1 M400 P1500 M964 T1100 G1 Z3 F3000 M400 M500 ; save cali data M104 S{nozzle_temperature[initial_no_support_extruder]} ; rise nozzle temp now ,to reduce temp waiting time. T1100 M400 P400 M960 S0 P0 G0 F30000.000 Y10.000 X65.000 Z0.000 M400 P400 M960 S1 P1 M400 P50 M969 S1 N3 A2000 G0 F360.000 X181.000 Z0.000 M980.3 A70.000 B{outer_wall_volumetric_speed/(1.75*1.75/4*3.14)*60/4} C5.000 D{outer_wall_volumetric_speed/(1.75*1.75/4*3.14)*60} E5.000 F175.000 H1.000 I0.000 J0.020 K0.040 M400 P100 G0 F20000 G0 Z1 ; rise nozzle up T1000 ; change to nozzle space G0 X45.000 Y4.000 F30000 ; move to test line pos M969 S0 ; turn off scanning M960 S0 P0 G1 Z2 F20000 T1000 G0 X45.000 Y4.000 F30000 E0 M109 S{nozzle_temperature[initial_no_support_extruder]} G0 Z0.3 G1 F1500.000 E3.600 G1 X65.000 E1.24726 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X70.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X75.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X80.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X85.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X90.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X95.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X100.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X105.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X110.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X115.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X120.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X125.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X130.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X135.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} ; see if extrude cali success, if not ,use default value M1002 judge_last_extrude_cali_success M622 J0 M400 M900 K0.02 M{outer_wall_volumetric_speed/(1.75*1.75/4*3.14)*0.02} M623 G1 X140.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X145.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X150.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X155.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X160.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X165.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X170.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X175.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X180.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X185.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X190.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X195.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X200.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X205.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X210.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X215.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} G1 X220.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} G1 X225.000 E0.31181 F{outer_wall_volumetric_speed/(0.3*0.5) * 60} M973 S4 M623 ;========turn off light and wait extrude temperature ============= M1002 gcode_claim_action : 0 M973 S4 ; turn off scanner M400 ; wait all motion done before implement the emprical L parameters ;M900 L500.0 ; Empirical parameters M109 S[nozzle_temperature_initial_layer] M960 S1 P0 ; turn off laser M960 S2 P0 ; turn off laser M106 S0 ; turn off fan M106 P2 S0 ; turn off big fan M106 P3 S0 ; turn off chamber fan M975 S1 ; turn on mech mode supression G90 M83 T1000 G1 E{-retraction_length[initial_no_support_extruder]} F1800 G1 X128.0 Y253.0 Z0.2 F24000.0;Move to start position G1 E{retraction_length[initial_no_support_extruder]} F1800 M109 S{nozzle_temperature_initial_layer[initial_no_support_extruder]} G0 X253 E6.4 F{outer_wall_volumetric_speed/(0.3*0.6) * 60} G0 Y128 E6.4 G0 X252.5 G0 Y252.5 E6.4 G0 X128 E6.4","machine_tool_change_time":"0","machine_unload_filament_time":"28","make_overhang_printable":"0","make_overhang_printable_angle":"55","make_overhang_printable_hole_size":"0","manual_filament_change":"0","max_bridge_length":"10","max_layer_height":["0.28"],"max_travel_detour_distance":"0","max_volumetric_extrusion_rate_slope":"0","max_volumetric_extrusion_rate_slope_segment_length":"3","min_bead_width":"85%","min_feature_size":"25%","min_layer_height":["0.08"],"min_length_factor":"0.5","min_skirt_length":"0","min_width_top_surface":"300%","minimum_sparse_infill_area":"15","mmu_segmented_region_interlocking_depth":"0","mmu_segmented_region_max_width":"0","notes":"","nozzle_diameter":["0.4"],"nozzle_height":"4.2","nozzle_hrc":"0","nozzle_temperature":["220","220"],"nozzle_temperature_initial_layer":["220","220"],"nozzle_temperature_range_high":["240","240"],"nozzle_temperature_range_low":["190","190"],"nozzle_type":"hardened_steel","nozzle_volume":"107","only_one_wall_first_layer":"0","only_one_wall_top":"1","ooze_prevention":"0","other_layers_print_sequence":["0"],"other_layers_print_sequence_nums":"0","outer_wall_acceleration":"5000","outer_wall_jerk":"9","outer_wall_line_width":"0.42","outer_wall_speed":"200","overhang_1_4_speed":"0","overhang_2_4_speed":"50","overhang_3_4_speed":"30","overhang_4_4_speed":"10","overhang_fan_speed":["100","100"],"overhang_fan_threshold":["50%","50%"],"overhang_reverse":"0","overhang_reverse_internal_only":"0","overhang_reverse_threshold":"50%","overhang_speed_classic":"0","parking_pos_retraction":"92","pellet_flow_coefficient":["0.4157","0.4157"],"pellet_modded_printer":"0","post_process":[],"precise_outer_wall":"0","precise_z_height":"0","preferred_orientation":"0","preheat_steps":"1","preheat_time":"30","pressure_advance":["0.02","0.02"],"prime_tower_brim_width":"3","prime_tower_width":"35","prime_volume":"45","print_compatible_printers":["Bambu Lab X1 Carbon 0.4 nozzle","Bambu Lab X1 0.4 nozzle","Bambu Lab P1S 0.4 nozzle","Bambu Lab X1E 0.4 nozzle"],"print_flow_ratio":"1","print_host":"","print_host_webui":"","print_order":"default","print_sequence":"by layer","print_settings_id":"0.20mm Standard @BBL X1C(Projekt+-+standard+-+2+plates.3mf)","printable_area":["0x0","256x0","256x256","0x256"],"printable_height":"250","printer_model":"Bambu Lab X1 Carbon","printer_notes":"","printer_settings_id":"Bambu Lab X1 Carbon 0.4 nozzle(Projekt+-+standard+-+2+plates.3mf)","printer_structure":"corexy","printer_technology":"FFF","printer_variant":"0.4","printhost_apikey":"","printhost_authorization_type":"key","printhost_cafile":"","printhost_password":"","printhost_port":"","printhost_ssl_ignore_revoke":"0","printhost_user":"","printing_by_object_gcode":"","purge_in_prime_tower":"1","raft_contact_distance":"0.1","raft_expansion":"1.5","raft_first_layer_density":"90%","raft_first_layer_expansion":"2","raft_layers":"0","reduce_crossing_wall":"0","reduce_fan_stop_start_freq":["1","1"],"reduce_infill_retraction":"1","required_nozzle_HRC":["3","3"],"resolution":"0.012","retract_before_wipe":["0%"],"retract_length_toolchange":["2"],"retract_lift_above":["0"],"retract_lift_below":["249"],"retract_lift_enforce":["All Surfaces"],"retract_restart_extra":["0"],"retract_restart_extra_toolchange":["0"],"retract_when_changing_layer":["1"],"retraction_distances_when_cut":["18"],"retraction_length":["0.8"],"retraction_minimum_travel":["1"],"retraction_speed":["30"],"role_based_wipe_speed":"1","rotate_solid_infill_direction":"1","scan_first_layer":"1","scarf_angle_threshold":"155","scarf_joint_flow_ratio":"1","scarf_joint_speed":"100%","scarf_overhang_threshold":"40%","seam_gap":"15%","seam_position":"aligned","seam_slope_conditional":"1","seam_slope_entire_loop":"0","seam_slope_inner_walls":"1","seam_slope_min_length":"10","seam_slope_start_height":"50%","seam_slope_steps":"10","seam_slope_type":"none","silent_mode":"0","single_extruder_multi_material":"1","single_extruder_multi_material_priming":"0","skirt_distance":"2","skirt_height":"1","skirt_loops":"0","skirt_speed":"50","skirt_start_angle":"-135","skirt_type":"combined","slice_closing_radius":"0.049","slicing_mode":"regular","slow_down_for_layer_cooling":["1","1"],"slow_down_layer_time":["8","8"],"slow_down_layers":"0","slow_down_min_speed":["20","20"],"slowdown_for_curled_perimeters":"1","small_area_infill_flow_compensation":"0","small_area_infill_flow_compensation_model":["0,0"," 0.2,0.4444"," 0.4,0.6145"," 0.6,0.7059"," 0.8,0.7619"," 1.5,0.8571"," 2,0.8889"," 3,0.9231"," 5,0.9520"," 10,1"],"small_perimeter_speed":"50%","small_perimeter_threshold":"0","solid_infill_direction":"45","solid_infill_filament":"1","sparse_infill_acceleration":"100%","sparse_infill_density":"15%","sparse_infill_filament":"1","sparse_infill_line_width":"0.45","sparse_infill_pattern":"grid","sparse_infill_speed":"270","spiral_mode":"0","spiral_mode_max_xy_smoothing":"200%","spiral_mode_smooth":"0","staggered_inner_seams":"0","standby_temperature_delta":"-5","start_end_points":["30x-3","54x245"],"support_air_filtration":"0","support_angle":"0","support_base_pattern":"default","support_base_pattern_spacing":"2.5","support_bottom_interface_spacing":"0.5","support_bottom_z_distance":"0.2","support_chamber_temp_control":"0","support_critical_regions_only":"0","support_expansion":"0","support_filament":"0","support_interface_bottom_layers":"2","support_interface_filament":"0","support_interface_loop_pattern":"0","support_interface_not_for_body":"1","support_interface_pattern":"auto","support_interface_spacing":"0.5","support_interface_speed":"80","support_interface_top_layers":"2","support_line_width":"0.42","support_material_interface_fan_speed":["-1","-1"],"support_multi_bed_types":"0","support_object_xy_distance":"0.35","support_on_build_plate_only":"0","support_remove_small_overhang":"1","support_speed":"150","support_style":"default","support_threshold_angle":"30","support_top_z_distance":"0.2","support_type":"normal(auto)","temperature_vitrification":["45","45"],"template_custom_gcode":"","textured_cool_plate_temp":["40","40"],"textured_cool_plate_temp_initial_layer":["40","40"],"textured_plate_temp":["55","55"],"textured_plate_temp_initial_layer":["55","55"],"thick_bridges":"0","thick_internal_bridges":"1","thumbnails":"50x50/PNG","thumbnails_format":"PNG","time_cost":"0","time_lapse_gcode":"","timelapse_type":"0","top_bottom_infill_wall_overlap":"25%","top_shell_layers":"5","top_shell_thickness":"1","top_solid_infill_flow_ratio":"1","top_surface_acceleration":"2000","top_surface_jerk":"9","top_surface_line_width":"0.42","top_surface_pattern":"monotonicline","top_surface_speed":"200","travel_acceleration":"10000","travel_jerk":"9","travel_slope":["3"],"travel_speed":"500","travel_speed_z":"0","tree_support_adaptive_layer_height":"1","tree_support_angle_slow":"25","tree_support_auto_brim":"1","tree_support_branch_angle":"45","tree_support_branch_angle_organic":"40","tree_support_branch_diameter":"2","tree_support_branch_diameter_angle":"5","tree_support_branch_diameter_double_wall":"3","tree_support_branch_diameter_organic":"2","tree_support_branch_distance":"5","tree_support_branch_distance_organic":"1","tree_support_brim_width":"3","tree_support_tip_diameter":"0.8","tree_support_top_rate":"30%","tree_support_wall_count":"0","type":"FETCH_PresetBundle","upward_compatible_machine":["Bambu Lab P1S 0.4 nozzle","Bambu Lab P1P 0.4 nozzle","Bambu Lab X1 0.4 nozzle","Bambu Lab X1E 0.4 nozzle","Bambu Lab A1 0.4 nozzle"],"use_firmware_retraction":"0","use_relative_e_distances":"1","wall_direction":"auto","wall_distribution_count":"1","wall_filament":"1","wall_generator":"classic","wall_loops":"2","wall_sequence":"inner wall/outer wall","wall_transition_angle":"10","wall_transition_filter_deviation":"25%","wall_transition_length":"100%","wipe":["1"],"wipe_before_external_loop":"0","wipe_distance":["2"],"wipe_on_loops":"0","wipe_speed":"80%","wipe_tower_bridging":"10","wipe_tower_cone_angle":"0","wipe_tower_extra_flow":"100%","wipe_tower_extra_spacing":"100%","wipe_tower_filament":"0","wipe_tower_max_purge_speed":"90","wipe_tower_no_sparse_layers":"0","wipe_tower_rotation_angle":"0","wipe_tower_x":["15","165"],"wipe_tower_y":["221","241"],"wiping_volumes_extruders":["70","70","70","70","70","70","70","70","70","70"],"xy_contour_compensation":"0","xy_hole_compensation":"0","z_hop":["0.4"],"z_hop_types":["Auto Lift"],"z_offset":"0"}